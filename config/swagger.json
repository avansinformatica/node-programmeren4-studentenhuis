{
    "info": {
        "description": "Deze server toont de API beschrijving van de Nodejs server uit de eindopdracht van Programmeren 4, periode 4, kans 1.",
        "title": "Avans Programmeren 4 - Studentenhuis casus"
    },
    "host": "localhost:3000",
    "produces": [
        "application/json"
    ],
    "securityDefinitions": {
        "Bearer": {
            "type": "apiKey",
            "name": "Authorization",
            "in": "header",
            "description": "For accessing the API a valid JWT token must be passed in all thequeries in the 'Authorization' header. A valid JWT token is generated by theAPI and retourned as answer of a call to the route /api/login and /api/registergiving a valid user & password. \n\n The following syntax must be used in the 'x-access-token' header : \n\n xxxxxx.yyyyyyy.zzzzzz",
            "value": "xx.ff.tt"
        }
    },
    "swagger": "2.0",
    "paths": {
        "/api/login": {
            "post": {
                "parameters": [{
                        "name": "email",
                        "in": "body",
                        "description": "emailadres",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "password",
                        "in": "body",
                        "description": "password",
                        "required": true,
                        "type": "string"
                    }
                ],
                "description": "Login.Vereist een JSON object in de request body, met daarin de properties \nemail en password.Deze zijn hieronder beschreven.",
                "tags": [
                    "Authentication "
                ],
                "responses": {
                    "200 ": {
                        "description": " Token informatie",
                        "type": "ValidToken",
                        "schema": {
                            "$ref": "#/definitions/ValidToken"
                        }
                    },
                    "401 ": {
                        "description": " Not authenticated",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    }
                }
            }
        },
        "/api/register": {
            "post": {
                "parameters": [{
                        "name": "firstname",
                        "in": "body",
                        "description": "User's firstname.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "lastname",
                        "in": "body",
                        "description": "User's lastname.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "email",
                        "in": "body",
                        "description": "User's emailadres",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "password",
                        "in": "body",
                        "description": "User's password.",
                        "required": true,
                        "type": "string"
                    }
                ],
                "description": "Register. Vereist een JSON object in de request body, met daarin de properties \nfirstname, lastname, email en password. Deze zijn hieronder beschreven.",
                "tags": [
                    "Authentication "
                ],
                "responses": {
                    "200 ": {
                        "description": " Token informatie",
                        "type": "ValidToken",
                        "schema": {
                            "$ref": "#/definitions/ValidToken"
                        }
                    },
                    "401 ": {
                        "description": " Not authenticated",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    }
                }
            }
        },
        "/api/studentenhuis": {
            "post": {
                "parameters": [{
                    "name": "studentenhuis",
                    "in": "body",
                    "description": "Een object met de gegevens van het studentenhuis.",
                    "required": true,
                    "type": "Studentenhuis",
                    "schema": {
                        "$ref": "#/definitions/Studentenhuis"
                    }
                }],
                "description": "Maak een nieuw studentenhuis.\nValidatie vereist.",
                "tags": [
                    "Studentenhuis "
                ],
                "responses": {
                    "200 ": {
                        "description": " Het toegevoegde studentenhuis met ID en gebruikersinfo",
                        "type": "StudentenhuisResponse",
                        "schema": {
                            "$ref": "#/definitions/StudentenhuisResponse"
                        }
                    },
                    "401 ": {
                        "description": " Niet geautoriseerd (geen valid token)",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    },
                    "412 ": {
                        "description": " Een of meer properties in de request body ontbreken of zijn foutief",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    }
                }
            },
            "get": {
                "parameters": [],
                "description": "Retourneer het studentenhuis met de gegeven huisId.\nValidatie vereist.",
                "tags": [
                    "Studentenhuis "
                ],
                "responses": {
                    "200 ": {
                        "description": " Het studentenhuis met de gegeven huisId.",
                        "type": "Studentenhuis",
                        "schema": {
                            "$ref": "#/definitions/Studentenhuis"
                        }
                    },
                    "401 ": {
                        "description": " Niet geautoriseerd (geen valid token)",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    }
                }
            }
        },
        "/api/studentenhuis/{huisId}": {
            "put": {
                "parameters": [],
                "description": "Vervang het studentenhuis met de gegeven huisId.\nValidatie vereist.",
                "tags": [
                    "Studentenhuis "
                ],
                "responses": {
                    "200 ": {
                        "description": " Het gewijzigde studentenhuis.",
                        "type": "Studentenhuis",
                        "schema": {
                            "$ref": "#/definitions/Studentenhuis"
                        }
                    },
                    "401 ": {
                        "description": " Niet geautoriseerd (geen valid token)",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    },
                    "412 ": {
                        "description": " Een of meer properties in de request body ontbreken of zijn foutief",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    }
                }
            },
            "delete": {
                "parameters": [],
                "description": "Verwijder het studentenhuis met de gegeven huisId.\nLet op: Een gebruiker kan alleen zijn eigen studentenhuis verwijderen!\nValidatie vereist.",
                "tags": [
                    "Studentenhuis "
                ],
                "responses": {
                    "200 ": {
                        "description": " Token informatie",
                        "type": "object"
                    },
                    "401 ": {
                        "description": " Niet geautoriseerd (geen valid token)",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    },
                    "409 ": {
                        "description": " Conflict (Gebruiker mag deze data niet verwijderen)",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    },
                    "412 ": {
                        "description": " Een of meer properties in de request body ontbreken of zijn foutief",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    }
                }
            }
        },
        "/api/studentenhuis/{huisId}/maaltijd": {
            "post": {
                "parameters": [{
                        "name": "email",
                        "in": "body",
                        "description": "emailadres",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "password",
                        "in": "body",
                        "description": "password",
                        "required": true,
                        "type": "string"
                    }
                ],
                "description": "Maak een nieuwe maaltijd voor een studentenhuis.\nValidatie vereist.",
                "tags": [
                    "Maaltijd "
                ],
                "responses": {
                    "200 ": {
                        "description": " Token informatie",
                        "type": "ValidToken",
                        "schema": {
                            "$ref": "#/definitions/ValidToken"
                        }
                    },
                    "401 ": {
                        "description": " Niet geautoriseerd (geen valid token)",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    }
                }
            },
            "get": {
                "parameters": [{
                        "name": "email",
                        "in": "body",
                        "description": "emailadres",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "password",
                        "in": "body",
                        "description": "password",
                        "required": true,
                        "type": "string"
                    }
                ],
                "description": "Retourneer de maaltijd met het gegeven maaltijdId.\nValidatie vereist.",
                "tags": [
                    "Maaltijd "
                ],
                "responses": {
                    "200 ": {
                        "description": " Token informatie",
                        "type": "ValidToken",
                        "schema": {
                            "$ref": "#/definitions/ValidToken"
                        }
                    },
                    "401 ": {
                        "description": " Niet geautoriseerd (geen valid token)",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    }
                }
            },
            "put": {
                "parameters": [{
                        "name": "email",
                        "in": "body",
                        "description": "emailadres",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "password",
                        "in": "body",
                        "description": "password",
                        "required": true,
                        "type": "string"
                    }
                ],
                "description": "Vervang de maaltijd met het gegeven maaltijdId door de nieuwe maaltijd in de request body.\nLet op: een gebruiker kan alleen zijn eigen maaltijden vervangen! \nValidatie vereist.",
                "tags": [
                    "Maaltijd "
                ],
                "responses": {
                    "200 ": {
                        "description": " Token informatie",
                        "type": "ValidToken",
                        "schema": {
                            "$ref": "#/definitions/ValidToken"
                        }
                    },
                    "401 ": {
                        "description": " Niet geautoriseerd (geen valid token)",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    }
                }
            },
            "delete": {
                "parameters": [],
                "description": "Verwijder de maaltijd met het gegeven maaltijdId.\nValidatie vereist. \nLet op: een gebruiker kan alleen zijn eigen maaltijden vervangen!",
                "tags": [
                    "Maaltijd "
                ],
                "responses": {
                    "200 ": {
                        "description": " Token informatie",
                        "type": "ValidToken",
                        "schema": {
                            "$ref": "#/definitions/ValidToken"
                        }
                    },
                    "401 ": {
                        "description": " Niet geautoriseerd (geen valid token)",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    }
                }
            }
        },
        "/api/studentenhuis/{huisId}/maaltijd/{maaltijdId}": {
            "post": {
                "parameters": [{
                        "name": "email",
                        "in": "body",
                        "description": "emailadres",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "password",
                        "in": "body",
                        "description": "password",
                        "required": true,
                        "type": "string"
                    }
                ],
                "description": "Meld je aan voor een maaltijd in een studentenhuis. \nValidatie vereist. \nDe user ID uit het token is dat van de gebruiker die zich aanmeldt. \nDie gebruiker wordt dus aan de lijst met aanmelders toegevoegd.",
                "tags": [
                    "Deelnemers "
                ],
                "responses": {
                    "200 ": {
                        "description": " Token informatie",
                        "type": "ValidToken",
                        "schema": {
                            "$ref": "#/definitions/ValidToken"
                        }
                    },
                    "401 ": {
                        "description": " Niet geautoriseerd (geen valid token)",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    }
                }
            }
        },
        "/api/studentenhuis/{huisId}/maaltijd/{maaltijdId}/deelnemers": {
            "get": {
                "parameters": [],
                "description": "Geef de lijst met deelnemers voor de maaltijd met gegeven maaltijdID in het studentenhuis met huisId. \nDeelnemers zijn geregistreerde gebruikers die zich hebben aangemeld voor deze maaltijd.\nValidatie vereist.",
                "tags": [
                    "Deelnemers "
                ],
                "responses": {
                    "200 ": {
                        "description": " Token informatie",
                        "type": "ValidToken",
                        "schema": {
                            "$ref": "#/definitions/ValidToken"
                        }
                    },
                    "401 ": {
                        "description": " Niet geautoriseerd (geen valid token)",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    }
                }
            },
            "delete": {
                "parameters": [],
                "description": "Verwijder een deelnemer.\nDe deelnemer die wordt verwijderd is de gebruiker met het ID uit het token.\nDe payload in het token moet daarom de gebruikers ID bevatten.\nEen gebruiker kan alleen zijn eigen aanmelding verwijderen. \n \nValidatie vereist.",
                "tags": [
                    "Deelnemers "
                ],
                "responses": {
                    "200 ": {
                        "description": " Token informatie",
                        "type": "ValidToken",
                        "schema": {
                            "$ref": "#/definitions/ValidToken"
                        }
                    },
                    "401 ": {
                        "description": " Niet geautoriseerd (geen valid token)",
                        "type": "ApiError",
                        "schema": {
                            "$ref": "#/definitions/ApiError"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "ApiError": {
            "required": [],
            "properties": {
                "message": {
                    "type": "string"
                },
                "code": {
                    "type": "integer"
                },
                "datetime": {
                    "type": "string"
                }
            }
        },
        "ValidToken": {
            "required": [],
            "properties": {
                "token": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                }
            }
        },
        "Studentenhuis": {
            "required": [],
            "properties": {
                "naam": {
                    "type": "string"
                },
                "adres": {
                    "type": "string"
                }
            }
        },
        "StudentenhuisResponse": {
            "required": [],
            "properties": {
                "ID": {
                    "type": "number"
                },
                "naam": {
                    "type": "string"
                },
                "adres": {
                    "type": "string"
                },
                "admin": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                }
            }
        },
        "Maaltijd": {
            "required": [],
            "properties": {
                "naam": {
                    "type": "string"
                },
                "beschrijving": {
                    "type": "string"
                },
                "ingredienten": {
                    "type": "string"
                },
                "allergie": {
                    "type": "string"
                },
                "prijs": {
                    "type": "number"
                }
            }
        },
        "Deelnemer": {
            "required": [],
            "properties": {
                "token": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                }
            }
        }
    },
    "responses": {},
    "parameters": {},
    "tags": [{
            "name": "Authentication ",
            "description": " Endpoints voor login en registratie."
        },
        {
            "name": "Studentenhuis ",
            "description": " Endpoints voor CRUD functionaliteit op een studentenhuis."
        },
        {
            "name": "Maaltijd ",
            "description": " Endpoints voor CRUD functionaliteit op een maaltijd."
        },
        {
            "name": "Deelnemers ",
            "description": " Endpoints voor CRUD functionaliteit op een deelnemers aan een maaltijd."
        }
    ]
}